# üéÜ Countdown Stream Generator

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞ –¥–æ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ –Ω–∞ Go.  
–†–µ–Ω–¥–µ—Ä–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ç–∞–π–º–µ—Ä–æ–º –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –≤ **FFmpeg** —á–µ—Ä–µ–∑ `stdout` –¥–ª—è –≤–µ—â–∞–Ω–∏—è –ø–æ **UDP** –∏–ª–∏ **HTTP**.

---

## üß± –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

- [Go 1.22+](https://go.dev/dl/)
- [FFmpeg](https://ffmpeg.org/download.html)

–ó–∞—Ç–µ–º —Å–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç:

```bash
go mod init countdown
go mod tidy
go build -o countdown
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ—è–≤–∏—Ç—Å—è –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª `countdown`.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ IBMPlexSans-Bold.ttf      # –®—Ä–∏—Ñ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ background.png             # –§–æ–Ω –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ newyear.png                # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–∞—Ç—ã
‚îú‚îÄ‚îÄ main.go
‚îî‚îÄ‚îÄ countdown                      # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫
```

---

## üñº –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç PNG-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ç–∞–π–º–µ—Ä–æ–º –¥–æ 1 —è–Ω–≤–∞—Ä—è 2026 –≥–æ–¥–∞ –∏ –ø–∏—à–µ—Ç –µ–≥–æ –≤ `stdout`.  
–≠—Ç–∏ –∫–∞–¥—Ä—ã –º–æ–∂–Ω–æ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤ `ffmpeg` –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–µ—â–∞–Ω–∏—è –∫–∞–∫ –≤–∏–¥–µ–æ.

---

## üì° –í–µ—â–∞–Ω–∏–µ –ø–æ UDP

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:

```bash
./countdown | ffmpeg -f image2pipe -framerate 1 -i -   -fflags nobuffer -flush_packets 0   -c:v libx264 -pix_fmt yuv420p -f mpegts "udp://127.0.0.1:1234?pkt_size=1316"
```

**–ü–æ—è—Å–Ω–µ–Ω–∏—è:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----------|
| `-f image2pipe -i -` | –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–∞–¥—Ä—ã –∏–∑ `stdin` |
| `-framerate 1` | 1 –∫–∞–¥—Ä –≤ —Å–µ–∫—É–Ω–¥—É |
| `-c:v libx264` | –∫–æ–¥–µ–∫ H.264 |
| `-pix_fmt yuv420p` | —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –ø–ª–µ–µ—Ä–æ–≤ |
| `-f mpegts` | –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä MPEG-TS |
| `"udp://127.0.0.1:1234?pkt_size=1316"` | –≤–µ—â–∞–Ω–∏–µ –ø–æ UDP |

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ç–æ–∫ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ VLC:  
```
vlc udp://@127.0.0.1:1234
```

---

## üåç –í–µ—â–∞–Ω–∏–µ –ø–æ HTTP

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–¥–∞—Ç—å –ø–æ—Ç–æ–∫ –ø–æ HTTP:

```bash
./countdown | ffmpeg -f image2pipe -framerate 1 -i -   -c:v libx264 -pix_fmt yuv420p -f mpegts http://0.0.0.0:8080/feed
```

–ü–æ—Ç–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:  
üëâ [http://localhost:8080/feed](http://localhost:8080/feed)


---

## üß† –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –î–æ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ñ–æ–Ω –∏ —Ç–∞–π–º–µ—Ä –≤–∏–¥–∞  
  `05 –¥–Ω–µ–π 12 —á–∞—Å–æ–≤ 30 –º–∏–Ω—É—Ç`
- –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ `newyear.png`

---

## ü™Ñ –°–æ–≤–µ—Ç—ã

- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –∫–∞–¥—Ä–æ–≤, —É–≤–µ–ª–∏—á–∏–≤ `-framerate` –≤ ffmpeg.  
- –î–ª—è –¥—Ä—É–≥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è–π –¥–∞—Ç—É –≤ –∫–æ–¥–µ:
```go
  target := time.Date(2026, time.January, 1, 0, 0, 0, 0, time.Local)
```
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π —à—Ä–∏—Ñ—Ç –≤ `assets/` –∏ –∏–∑–º–µ–Ω–∏—Ç—å `fontPath`.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ¬© 2025
